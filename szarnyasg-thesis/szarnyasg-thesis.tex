%--------------------------------------------------------------------------------------
% Thesis 1. paper
% Author: Gabor Szarnyas
% Created at: May 2013
%--------------------------------------------------------------------------------------


%--------------------------------------------------------------------------------------
% Page format
%--------------------------------------------------------------------------------------
\documentclass[12pt,a4paper,twoside]{report}           
%\documentclass[10pt,a4paper,twoside,openright]{report}  


%--------------------------------------------------------------------------------------
% Package incudes
%--------------------------------------------------------------------------------------
\usepackage{t1enc} 
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage[thmmarks]{ntheorem}
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{listings}
\usepackage{color} 
\usepackage{lastpage}
\usepackage{anysize}
\usepackage{longtable}
\usepackage[english]{babel}
\usepackage{sectsty}
\usepackage{setspace}
\usepackage[hang]{caption}
\usepackage{hyperref}
\usepackage{tabularx}
%\usepackage{times}
%\usepackage{libertine-type1}
\usepackage{hyphenat}
\usepackage{enumitem}
\usepackage{inconsolata} % typewriter 
\usepackage{subcaption}
\usepackage{todonotes}
\usepackage{fourier} % changed Times to Fourier


%--------------------------------------------------------------------------------------
% Custom commands
%--------------------------------------------------------------------------------------
% insert pictures
\newcommand{\pic}[2]{
\begin{figure}[htb]
   \center   
   \caption{#2}
   \label{fig:#1}  
      \includegraphics{figures/#1}
\end{figure}
}

% insert and resize picture to the width of the screen
\newcommand{\picr}[2]{
\begin{figure}[htb]
   \center   
   \caption{#2}
   \label{fig:#1}  
     \resizebox{\linewidth}{!}{
      \includegraphics{figures/#1}
      } 
\end{figure}
}


\newcommand{\picfifty}[2]{
\begin{figure}[htb]
   \center
   \caption{#2}
   \label{fig:#1}
     \resizebox{0.5\linewidth}{!}{
      \includegraphics{figures/#1}
      }
\end{figure}
}

\newcommand{\picseventy}[2]{
\begin{figure}[htb]
   \center
   \caption{#2}
   \label{fig:#1}
     \resizebox{0.7\linewidth}{!}{
      \includegraphics{figures/#1}
      }
\end{figure}
}

% insert tables
% 1. param�ter: caption
% 2. param�ter: label
% 3. param�ter: oszlopok definiálása
\newenvironment*{tabl}[3]{
   \begin{table}[htb]
   
   \caption{#1}
   \label{tab:#2}
   \centering
   \begin{tabular}{#3}
}{
   \end{tabular}
   \end{table}
}


\newcommand{\figref}[1]{Figure~\autoref{fig:#1}}                      
\newcommand{\secref}[1]{section~\ref{sect#1}}
% section reference \newcommand{\code}[1]{{\upshape\ttfamily\scriptsize\indent #1}} % formatted code
\newcommand{\code}[1]{{\small \texttt{#1}}} % formatted code
\newcommand{\tool}[1]{\texttt{#1}}
%--------------------------------------------------------------------------------------
% Constant strings
%--------------------------------------------------------------------------------------
\newcommand{\pauthor}{G\'abor Sz\'arnyas}
\newcommand{\psvisor}{Dr.~Istv\'an R\'ath, Dr.~D\'aniel Varr\'o}
\newcommand{\ptitle}{Superscalable modeling}
\newcommand{\pdep}{Department of Measurement and Information Systems}
\newcommand{\ptype}{Master's Thesis}
\newcommand{\ptool}{Dependency Analysis Tool}

%\newcommand{\todo}[1]{\textbf{TODO: }{#1}}

\newcommand{\sectref}[1]{section~\aref{sect:#1}}

%--------------------------------------------------------------------------------------
% Declarations
%--------------------------------------------------------------------------------------
\DeclareMathOperator*{\argmax}{arg\,max}
%\DeclareMathOperator*[1]{\floor}{arg\,max}
\DeclareMathOperator{\sign}{sgn}
\DeclareMathOperator{\rot}{rot}
\definecolor{lightgray}{rgb}{0.95,0.95,0.95}
 
\author{\pauthor}
\title{\ptitle}



%--------------------------------------------------------------------------------------
% Page layout setup
%--------------------------------------------------------------------------------------
% we need to redefine the pagestyle plain
% another possibility is to use the body of this command without \fancypagestyle
% and use \pagestyle{fancy} but in that case the special pages
% (like the ToC, the References, and the Chapter pages)remain in plane style

\pagestyle{plain}
%\setlength{\parindent}{0pt}                  % more clear; in english documents
%\setlength{\parskip}{8pt plus 3pt minus 3pt} % more clear; in english documents
\setlength{\parindent}{12pt}                  % in hungarian documents
\setlength{\parskip}{0pt}                     % in hungarian documents
\marginsize{35mm}{25mm}{15mm}{15mm}           % anysize package
\setcounter{secnumdepth}{0}
\sectionfont{\large\upshape\bfseries}
\setcounter{secnumdepth}{2}
\singlespacing{}
\frenchspacing{}
%\setlist[description]{leftmargin=0em}                      % remove indent from descriptions
\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}  % compact list

%--------------------------------------------------------------------------------------
%	Setup hyperref package
%--------------------------------------------------------------------------------------
\hypersetup{
    %bookmarks=true,           % show bookmarks bar?
    unicode=false,             % non-Latin characters in Acrobat’s bookmarks
    pdftitle={\ptitle},        % title
    pdfauthor={\pauthor},      % author
    pdfsubject={\ptype},       % subject of the document
    pdfcreator={\pauthor},     % creator of the document
    pdfproducer={Producer},    % producer of the document
    pdfkeywords={keywords},    % list of keywords
    pdfnewwindow=true,         % links in new window
    colorlinks=true,           % false: boxed links; true: colored links
    linkcolor=black,           % color of internal links
    citecolor=black,           % color of links to bibliography
    filecolor=black,           % color of file links
    urlcolor=black             % color of external links
}


%--------------------------------------------------------------------------------------
% Set up listings
%--------------------------------------------------------------------------------------
% \lstset{
% 	basicstyle=\scriptsize\ttfamily,              % print whole listing small
% 	keywordstyle=\color{black}\bfseries\underbar, % underlined bold black keywords
% 	identifierstyle=, 					          % nothing happens
% 	commentstyle=\color{white},                   % white comments
% 	stringstyle=\scriptsize\sffamily, 			  % typewriter type for strings
% 	showstringspaces=false,                       % no special string spaces
% 	aboveskip=3pt,
% 	belowskip=3pt,
% 	columns=fixed,
% 	backgroundcolor=\color{lightgray},
% } 		
%\def\lstlistingname{lista}	

% standard IncQuery stuff
\usepackage{color}
\definecolor{listinggray}{rgb}{0.9,0.9,0.9}
\definecolor{keywordcolor}{rgb}{0.5,0,0.1}
\definecolor{commentcolor}{rgb}{0,0.3,0.1}
\definecolor{stringcolor}{rgb}{0,0,1}
\usepackage{listings}
\lstdefinelanguage{viatra}
{morekeywords={@Interpretation,@Trigger,package,private,count,sum,max,min,avg,shareable,trigger,guard,eval,
asmfunction,rule,gtrule,if,do,choose,forall,iterate,print,println,log,apply,
    entity,relation,supertypeOf,subtypeOf,typeOf,instanceOf,try,else,pattern,
    precondition,postcondition,action,neg,find,import,namespace,in,below,out,
    inout,let,multiplicity,many_to_one,many_to_many,one_to_many,one_to_one,
    isAggregation,inverse,seq,update,ref,true,false,call,machine,or,
    undef,rename,new,del,delete,move,copy,value,interface,class,,setFrom,setTo,with,when,check,change,appear,disappear,cdrule,transformation,common,from,to,toInteger},
    sensitive=true, morecomment=[l]{//}, morecomment=[s]{/*}{*/}, morestring=[b]{"}, }
\lstset{backgroundcolor=\color{listinggray}}
\lstset{basicstyle=\scriptsize\ttfamily}
\lstset{commentstyle=\itshape\color{commentcolor}\ttfamily}
\lstset{stringstyle=\color{stringcolor}\ttfamily}
\lstset{frameround=tttt}
\lstset{captionpos=b}
\lstset{keywordstyle=\color{keywordcolor}\bfseries\ttfamily}
\lstset{showstringspaces=false}
\lstset{tabsize=2}
\lstset{numbers=left,numberstyle=\scriptsize\ttfamily,stepnumber=1,numbersep=5pt}
\lstset{language=viatra}
\lstset{escapeinside={(*@}{@*)}}


%--------------------------------------------------------------------------------------
% Setup captions
%--------------------------------------------------------------------------------------
\captionsetup[figure]{
%labelsep=none,
%font={footnotesize,it},
%justification=justified,
width=.75\textwidth,
aboveskip=10pt}

\renewcommand{\captionlabelfont}{\small\bf}
\renewcommand{\captionfont}{\footnotesize\it}

\newcommand{\tss}{\textsuperscript}

\newcommand{\incquery}{\textsc{EMF-IncQuery}}
\newcommand{\incqueryD}{\textsc{IncQuery-D}}

\sloppy

%--------------------------------------------------------------------------------------
% Main document content
%--------------------------------------------------------------------------------------
\begin{document}

\pagenumbering{arabic}
\onehalfspacing

\include{title}       % title		+ blank
\include{declaration} % thanks		+ declaration 
\include{abstract}    % abstract hu + abstract en
\tableofcontents      % toc

\include{chapter1} 
\include{chapter2}
\include{chapter3}
\include{chapter4}
\include{chapter5}
\include{chapter6}

\addcontentsline{toc}{chapter}{Bibliography} % Add bibliography
\bibliographystyle{plain}                    % use plain style
\bibliography{bib}             % include the entries

\include{appendix}

\label{page:last}
\end{document}
